<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>머릿속 생각 SVG</title>
<style>
  body { font-family: Arial; display: flex; flex-direction: column; align-items: center; padding: 20px; }
  textarea { width: 400px; height: 80px; margin-bottom: 10px; }
  svg { border: 1px solid #ccc; background: #fff; }
  text { cursor: move; fill: #c0392b; font-weight: bold; }
</style>
</head>
<body>

<textarea id="inputBox" placeholder="Shift+Enter로 줄바꿈"></textarea>
<button onclick="addThought()">생각 추가</button>

<svg id="brainSvg" width="600" height="600"></svg>

<script>
const svg = document.getElementById('brainSvg');
const input = document.getElementById('inputBox');

function addThought() {
  const textValue = input.value.trim();
  if (!textValue) return;

  const textEl = document.createElementNS("http://www.w3.org/2000/svg", "text");
  textEl.setAttribute("x", 300);
  textEl.setAttribute("y", 100);
  textEl.setAttribute("font-size", 24);

  const lines = textValue.split('\n'); // 줄바꿈 기준
  lines.forEach((line, i) => {
    const tspan = document.createElementNS("http://www.w3.org/2000/svg", "tspan");
    tspan.setAttribute("x", 300);
    tspan.setAttribute("y", 100 + i * 30); // 줄 간격
    tspan.textContent = line;
    textEl.appendChild(tspan);
  });

  svg.appendChild(textEl);
  input.value = '';
}
</script>

</body>
</html>
